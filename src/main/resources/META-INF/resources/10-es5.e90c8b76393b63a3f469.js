function asyncGeneratorStep(e,t,n,a,r,i,o){try{var u=e[i](o),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(a,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){asyncGeneratorStep(i,a,r,o,u,"next",e)}function u(e){asyncGeneratorStep(i,a,r,o,u,"throw",e)}o(void 0)}))}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{pptk:function(e,t,n){"use strict";n.r(t),n.d(t,"amplify_amazon_button",(function(){return l})),n.d(t,"amplify_auth0_button",(function(){return g})),n.d(t,"amplify_facebook_button",(function(){return m})),n.d(t,"amplify_google_button",(function(){return w})),n.d(t,"amplify_oauth_button",(function(){return I}));var a=n("BZ0O"),r=n("Nt7R"),i=n("JIIv"),o=n("s1tr"),u=n("CHJ9"),c=n("aut5"),s=n("JmXW"),h=n("v4IS"),f=new r.a("amplify-amazon-button"),l=function(){function e(t){var n=this;_classCallCheck(this,e),Object(a.g)(this,t),this.handleAuthStateChange=s.d,this.federatedSignIn=function(e){var t=e.access_token,a=e.expires_in;if(t){if(!h.a||"function"!=typeof h.a.federatedSignIn||"function"!=typeof h.a.currentAuthenticatedUser)throw new Error(c.d);var r=1e3*a+(new Date).getTime();window.amazon.Login.retrieveProfile(function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(a){var i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.success){e.next=2;break}return e.abrupt("return",f.debug("Get user Info failed"));case 2:return i={name:a.profile.Name,email:a.profile.PrimaryEmail},e.next=5,h.a.federatedSignIn("amazon",{token:t,expires_at:r},i);case 5:return e.next=7,h.a.currentAuthenticatedUser();case 7:u=e.sent,n.handleAuthStateChange(o.a.SignedIn,u);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}return _createClass(e,[{key:"signInWithAmazon",value:function(e){var t=this;e.preventDefault(),window.amazon.Login.setClientId(this.clientId),window.amazon.Login.authorize({scope:"profile"},(function(e){if(e.error)return f.debug("Failed to login with amazon: "+e.error);try{window.localStorage.setItem(c.q,JSON.stringify({provider:"amazon"}))}catch(n){f.debug("Failed to cache auth source into localStorage",n)}t.federatedSignIn(e)}))}},{key:"render",value:function(){var e=this;return Object(a.f)("amplify-sign-in-button",{onClick:function(t){return e.signInWithAmazon(t)},provider:"amazon"},Object(a.f)("script",{src:"https://assets.loginwithamazon.com/sdk/na/login1.js"}),i.a.get(u.a.SIGN_IN_WITH_AMAZON))}}]),e}(),d=new r.a("amplify-auth0-button"),g=function(){function e(t){var n=this;_classCallCheck(this,e),Object(a.g)(this,t),this.handleAuthStateChange=s.d,this.handleLoad=function(){var e=h.a.configure({}).oauth,t=void 0===e?{}:e,a=n.config,r=void 0===a?t.auth0:a;r?(d.debug("auth0 configuration",r),n._auth0||(n._auth0=new window.auth0.WebAuth(r)),n._auth0.parseHash((function(e,t){if(e)d.debug("Failed to parse the url for Auth0",e);else if(t){var a={provider:"auth0",opts:{returnTo:r.returnTo,clientID:r.clientID,federated:r.federated}};try{localStorage.setItem(c.q,JSON.stringify(a))}catch(i){d.debug("Failed to cache auth source into localStorage",i)}n._auth0.client.userInfo(t.accessToken,function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(a,i){var u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=void 0,c=void 0,a?d.debug("Failed to get the user info",a):(u=i.name,c=i.email),e.next=4,h.a.federatedSignIn(r.domain,{token:t.idToken,expires_at:1e3*t.expiresIn+(new Date).getTime()},{name:u,email:c});case 4:return e.next=6,h.a.currentAuthenticatedUser();case 6:s=e.sent,n.handleAuthStateChange(o.a.SignedIn,s);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}else d.debug("Auth0 found no authResult in hash")}))):d.debug("Auth0 is not configured")}}return _createClass(e,[{key:"signInWithAuth0",value:function(e){if(e.preventDefault(),!this._auth0)throw new Error("the auth0 client is not configured");this._auth0.authorize()}},{key:"render",value:function(){var e=this;return Object(a.f)("amplify-sign-in-button",{onClick:function(t){return e.signInWithAuth0(t)},provider:"auth0"},Object(a.f)("script",{onLoad:this.handleLoad,src:"https://cdn.auth0.com/js/auth0/9.11/auth0.min.js"}),i.a.get(u.a.SIGN_IN_WITH_AUTH0))}}]),e}(),p=new r.a("amplify-facebook-button"),m=function(){function e(t){var n=this;_classCallCheck(this,e),Object(a.g)(this,t),this.handleAuthStateChange=s.d,this.federatedSignIn=function(e){var t=e.accessToken,a=e.expiresIn;if(t){if(!h.a||"function"!=typeof h.a.federatedSignIn||"function"!=typeof h.a.currentAuthenticatedUser)throw new Error(c.d);var r=1e3*a+(new Date).getTime();window.FB.api("/me",{fields:"name,email"},function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(a){var i,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:a.name,email:a.email},e.next=3,h.a.federatedSignIn("facebook",{token:t,expires_at:r},i);case 3:return e.next=5,h.a.currentAuthenticatedUser();case 5:u=e.sent,n.handleAuthStateChange(o.a.SignedIn,u);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},this.getLoginStatus=function(){window.FB.getLoginStatus((function(e){try{window.localStorage.setItem(c.q,JSON.stringify({provider:"facebook"}))}catch(t){p.debug("Failed to cache auth source into localStorage",t)}if("connected"===e.status)return n.federatedSignIn(e.authResponse);n.login()}))},this.login=function(){window.FB.login((function(e){e&&e.authResponse&&n.federatedSignIn(e.authResponse)}),{scope:"public_profile,email"})}}return _createClass(e,[{key:"signInWithFacebook",value:function(e){e.preventDefault(),window.FB.init({appId:this.appId,cookie:!0,xfbml:!1,version:"v5.0"}),this.getLoginStatus()}},{key:"render",value:function(){var e=this;return Object(a.f)("amplify-sign-in-button",{onClick:function(t){return e.signInWithFacebook(t)},provider:"facebook"},Object(a.f)("script",{async:!0,defer:!0,src:"https://connect.facebook.net/en_US/sdk.js"}),i.a.get(u.a.SIGN_IN_WITH_FACEBOOK))}}]),e}(),v=new r.a("amplify-google-button"),w=function(){function e(t){var n=this;_classCallCheck(this,e),Object(a.g)(this,t),this.handleAuthStateChange=s.d,this.handleError=function(e){console.error(e)},this.handleLoad=function(){window.gapi.load("auth2")},this.handleUser=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(t){var a,r,i,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.a&&"function"==typeof h.a.federatedSignIn&&"function"==typeof h.a.currentAuthenticatedUser){e.next=2;break}throw new Error(c.d);case 2:try{window.localStorage.setItem(c.q,JSON.stringify({provider:"google"}))}catch(f){v.debug("Failed to cache auth source into localStorage",f)}return a=t.getAuthResponse(),r=a.id_token,i=a.expires_at,u=t.getBasicProfile(),e.next=6,h.a.federatedSignIn("google",{token:r,expires_at:i},{email:u.getEmail(),name:u.getName(),picture:u.getImageUrl()});case 6:return e.next=8,h.a.currentAuthenticatedUser();case 8:s=e.sent;try{n.handleAuthStateChange(o.a.SignedIn,s)}catch(l){n.handleError(l)}case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return _createClass(e,[{key:"getAuthInstance",value:function(){return window.gapi&&window.gapi.auth2?window.gapi.auth2.getAuthInstance()||window.gapi.auth2.init({client_id:this.clientId,cookiepolicy:"single_host_origin",scope:"profile email openid"}):null}},{key:"signInWithGoogle",value:function(e){e.preventDefault(),this.getAuthInstance().signIn().then(this.handleUser).catch(this.handleError)}},{key:"render",value:function(){var e=this;return Object(a.f)("amplify-sign-in-button",{onClick:function(t){return e.signInWithGoogle(t)},provider:"google"},Object(a.f)("script",{onLoad:this.handleLoad,src:"https://apis.google.com/js/api:client.js"}),i.a.get(u.a.SIGN_IN_WITH_GOOGLE))}}]),e}(),I=function(){function e(t){_classCallCheck(this,e),Object(a.g)(this,t),this.config={}}return _createClass(e,[{key:"signInWithOAuth",value:function(e){e.preventDefault(),h.a.federatedSignIn()}},{key:"render",value:function(){var e=this;return Object(a.f)("amplify-sign-in-button",{onClick:function(t){return e.signInWithOAuth(t)},provider:"oauth"},this.config.label||i.a.get(u.a.SIGN_IN_WITH_AWS))}}]),e}()}}]);